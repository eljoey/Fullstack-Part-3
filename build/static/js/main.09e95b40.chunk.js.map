{"version":3,"sources":["Components/Filter.js","Components/Form.js","Components/People.js","services/persons.js","Components/Notification.js","App.js","index.js"],"names":["Filter","props","value","search","onChange","handleSearch","Form","onSubmit","handleSubmit","newName","handleNewName","newNumber","handleNewNumber","type","People","string","persons","filter","person","name","toLowerCase","includes","map","key","id","number","onClick","handleClick","apiURL","axios","get","then","res","data","newObj","post","request","put","console","log","delete","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","setSearch","setMessage","useEffect","personService","initialData","checkName","handleNewPhone","selPerson","find","newInfo","window","confirm","updatedInfo","catch","err","setTimeout","e","target","preventDefault","personObj","newPerson","concat","newList","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.09e95b40.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = props => {\n  return (\n    <div>\n      Filter by name{' '}\n      <input value={props.search} onChange={props.handleSearch} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from 'react';\n\nconst Form = props => {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <div>\n        name: <input value={props.newName} onChange={props.handleNewName} />\n      </div>\n      <div>\n        number:{' '}\n        <input value={props.newNumber} onChange={props.handleNewNumber} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default Form;\n","import React from 'react';\n\nconst People = props => {\n  const searchPersons = string => {\n    return props.persons\n      .filter(person =>\n        person.name.toLowerCase().includes(string.toLowerCase())\n      )\n      .map(person => (\n        <div key={person.id}>\n          {person.name} {person.number}{' '}\n          <button onClick={() => props.handleClick(person.id)}>Delete</button>\n        </div>\n      ));\n  };\n  return searchPersons(props.search);\n};\n\nexport default People;\n","import axios from 'axios';\n\nconst apiURL = 'api/persons';\n\nconst getAll = () => {\n  const request = axios.get(apiURL);\n  return request.then(res => res.data);\n};\n\nconst create = newObj => {\n  const request = axios.post(apiURL, newObj);\n  return request.then(res => res.data);\n};\n\nconst update = (id, newObj) => {\n  const request = axios.put(`${apiURL}/${id}`, newObj);\n  console.log(apiURL, id);\n\n  return request.then(res => res.data);\n};\n\nconst delObj = id => {\n  const request = axios.delete(`${apiURL}/${id}`);\n  return request.then(res => res.data);\n};\n\nexport default {\n  getAll,\n  create,\n  update,\n  delObj\n};\n","import React from 'react';\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n  return <div className={message.type}>{message.message}</div>;\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\nimport Filter from './Components/Filter';\nimport Form from './Components/Form';\nimport People from './Components/People';\nimport personService from './services/persons';\nimport Notification from './Components/Notification';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [search, setSearch] = useState('');\n  const [message, setMessage] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then(initialData => {\n      setPersons(initialData);\n    });\n  }, []);\n\n  const addName = e => {\n    e.preventDefault();\n\n    //Checks if name was already added (isn't case sensitive) then asks if they want to update number\n    if (checkName()) {\n      handleNewPhone();\n      return;\n    }\n\n    const personObj = {\n      name: newName,\n      number: newNumber\n    };\n\n    personService.create(personObj).then(newPerson => {\n      setMessage({\n        message: `Added ${personObj.name}`,\n        type: 'success'\n      });\n      setPersons(persons.concat(newPerson));\n      setNewName('');\n      setNewNumber('');\n\n      setTimeout(() => {\n        setMessage(null);\n      }, 3000);\n    });\n  };\n\n  const checkName = () => {\n    if (\n      persons\n        .map(person => person.name.toLowerCase())\n        .includes(newName.toLowerCase())\n    ) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  const handleNewName = e => {\n    setNewName(e.target.value);\n  };\n  const handleSearch = e => {\n    setSearch(e.target.value);\n  };\n  const handleNewNumber = e => {\n    setNewNumber(e.target.value);\n  };\n\n  const handleClick = id => {\n    const selPerson = persons.find(person => person.id === id);\n    const newList = persons.filter(person => person.id !== id);\n\n    if (window.confirm(`Delete ${selPerson.name}?`)) {\n      personService\n        .delObj(id)\n        .then(res => setPersons(newList))\n        .catch(`${selPerson.name} was already deleted from the phonebook`);\n    }\n  };\n\n  const handleNewPhone = () => {\n    const selPerson = persons.find(\n      person => person.name.toLowerCase() === newName.toLowerCase()\n    );\n    const newInfo = { ...selPerson, number: newNumber };\n\n    if (\n      window.confirm(\n        `${newName} is already added, replace the old number with the new one?`\n      )\n    ) {\n      personService\n        .update(selPerson.id, newInfo)\n        .then(updatedInfo => {\n          setPersons(\n            persons.map(person =>\n              person.id !== selPerson.id ? person : updatedInfo\n            )\n          );\n          setNewName('');\n          setNewNumber('');\n        })\n        .catch(err => {\n          setMessage({\n            message: `Information of ${selPerson.name} has already been removed from the server`,\n            type: 'error'\n          });\n          setPersons(persons.filter(person => person.id !== selPerson.id));\n          setNewName('');\n          setNewNumber('');\n\n          setTimeout(() => {\n            setMessage(null);\n          }, 3000);\n        });\n    } else {\n      return;\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter search={search} handleSearch={handleSearch} />\n      <h2>Add New Person</h2>\n      <Form\n        handleSubmit={addName}\n        newName={newName}\n        newNumber={newNumber}\n        handleNewName={handleNewName}\n        handleNewNumber={handleNewNumber}\n      />\n      <h2>Numbers</h2>\n      <People search={search} persons={persons} handleClick={handleClick} />\n    </div>\n  );\n};\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}