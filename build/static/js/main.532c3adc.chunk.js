(window.webpackJsonpphonebook=window.webpackJsonpphonebook||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},20:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(13),o=t.n(c),u=(t(20),t(14)),i=t(2),l=function(e){return a.a.createElement("div",null,"Filter by name"," ",a.a.createElement("input",{value:e.search,onChange:e.handleSearch}))},m=function(e){return a.a.createElement("form",{onSubmit:e.handleSubmit},a.a.createElement("div",null,"name: ",a.a.createElement("input",{value:e.newName,onChange:e.handleNewName})),a.a.createElement("div",null,"number:"," ",a.a.createElement("input",{value:e.newNumber,onChange:e.handleNewNumber})),a.a.createElement("div",null,a.a.createElement("button",{type:"submit"},"add")))},f=function(e){var n;return n=e.search,e.persons.filter(function(e){return e.name.toLowerCase().includes(n.toLowerCase())}).map(function(n){return a.a.createElement("div",{key:n.id},n.name," ",n.number," ",a.a.createElement("button",{onClick:function(){return e.handleClick(n.id)}},"Delete"))})},s=t(3),d=t.n(s),h="http://localhost:3001/api/persons",b=function(){return d.a.get(h).then(function(e){return e.data})},p=function(e){return d.a.post(h,e).then(function(e){return e.data})},w=function(e,n){return d.a.put("".concat(h,"/").concat(e),n).then(function(e){return e.data})},v=function(e){return d.a.delete("".concat(h,"/").concat(e)).then(function(e){return e.data})},O=function(e){var n=e.message;return null===n?null:a.a.createElement("div",{className:n.type},n.message)};function E(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}var j=function(){var e=Object(r.useState)([]),n=Object(i.a)(e,2),t=n[0],c=n[1],o=Object(r.useState)(""),s=Object(i.a)(o,2),d=s[0],h=s[1],j=Object(r.useState)(""),y=Object(i.a)(j,2),g=y[0],N=y[1],C=Object(r.useState)(""),S=Object(i.a)(C,2),k=S[0],P=S[1],D=Object(r.useState)(null),L=Object(i.a)(D,2),A=L[0],I=L[1];Object(r.useEffect)(function(){b().then(function(e){c(e)})},[]);var J=function(){return!!t.map(function(e){return e.name.toLowerCase()}).includes(d.toLowerCase())},T=function(){var e=t.find(function(e){return e.name.toLowerCase()===d.toLowerCase()}),n=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?E(t,!0).forEach(function(n){Object(u.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},e,{number:g});window.confirm("".concat(d," is already added, replace the old number with the new one?"))&&w("".concat(e.id),n).then(function(n){c(t.map(function(t){return t.id!==e.id?t:n})),h(""),N("")}).catch(function(n){I({message:"Information of ".concat(e.name," has already been removed from the server"),type:"error"}),c(t.filter(function(n){return n.id!==e.id})),h(""),N(""),setTimeout(function(){I(null)},3e3)})};return a.a.createElement("div",null,a.a.createElement("h2",null,"Phonebook"),a.a.createElement(O,{message:A}),a.a.createElement(l,{search:k,handleSearch:function(e){P(e.target.value)}}),a.a.createElement("h2",null,"Add New Person"),a.a.createElement(m,{handleSubmit:function(e){if(e.preventDefault(),J())T();else{var n={name:d,number:g};p(n).then(function(e){I({message:"Added ".concat(n.name),type:"success"}),c(t.concat(e)),h(""),N(""),setTimeout(function(){I(null)},3e3)})}},newName:d,newNumber:g,handleNewName:function(e){h(e.target.value)},handleNewNumber:function(e){N(e.target.value)}}),a.a.createElement("h2",null,"Numbers"),a.a.createElement(f,{search:k,persons:t,handleClick:function(e){var n=t.find(function(n){return n.id===e}),r=t.filter(function(n){return n.id!==e});window.confirm("Delete ".concat(n.name,"?"))&&v(e).then(function(e){return c(r)}).catch("".concat(n.name," was already deleted from the phonebook"))}}))};o.a.render(a.a.createElement(j,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.532c3adc.chunk.js.map